---
title: "What is Pagefind?"
emoji: "ğŸ”¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["astro", "ssg", "pagefind", "cloudflare"]
published: true
---
Pagefind[^1] ã«ã¤ã„ã¦ã€‚
![Alt text](/images/179d0240881160-a.png)

Pagefind ã¯ SSG ç”¨ã®å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã€‚

https://www.youtube.com/watch?v=v79VRrfVau8

Pagefind ã¯ Rust ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã€‚Turbopack[^3] ã‚„ Biome[^2] ãªã© Frontend ç³»ã®ãƒ„ãƒ¼ãƒ«ãŒ Rust ã§æ›¸ãæ›ãˆã‚‰ã‚Œã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã€‚Rust ã¯æ€§èƒ½ãŒè‰¯ã„ã€‚

å€‹äººçš„ã«ã¯ Rust ãŒå¹…åºƒãä½¿ã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¦ã„ã‚‹ã€‚low layer ã ã‘ã§ãªãã€‚
ä¸€æ–¹ã§ stack ã®é¸å®šã¯çµ„ç¹”çš„ãªå•é¡Œã ã¨æ€ã†ã®ã§ã€å®Ÿä¾‹ãŒå¤šãå‡ºã¦ãã‚‹ã®ã¯ã€å¾Œæ•°å¹´ã¯å¾…ã¤å¿…è¦ãŒã‚ã‚‹ã¨æ€ã†ã€‚

## tl;dr
- å‰æã¯ SSG ã§ç”Ÿæˆã•ã‚ŒãŸ HTML ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã“ã¨ã€‚
- `html` tag ãŒç„¡ã„å ´åˆ scan ã•ã‚Œãªã„ã€‚
- Build command ã®å¾Œã§ `pagefind` ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

## About Pagefind

https://pagefind.app/

> Pagefind is a fully static search library that aims to perform well on large sites, while using as little of your usersâ€™ bandwidth as possible, and without hosting any infrastructure.
> 
> Pagefind ã¯å®Œå…¨ã«é™çš„ãªæ¤œç´¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¸¯åŸŸå¹…ã‚’ã§ãã‚‹ã ã‘ä½¿ç”¨ã›ãšã€ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã“ã¨ãªãã€å¤§è¦æ¨¡ãªã‚µã‚¤ãƒˆã§å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç™ºæ®ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

## Usage
```bash:log
[Building search indexes]
Total: 
  Indexed 1 language
  Indexed 6 pages
  Indexed 448 words
  Indexed 0 filters
  Indexed 0 sorts

Finished in 0.069 seconds
```

- `html` tag ãŒç„¡ã„å ´åˆ scan ã•ã‚Œãªã„ã€‚
```bash: error message
1 page found without an <html> element. 
Pages without an outer <html> element will not be processed by default. 
If adding this element is not possible, use the root selector config to target a different root element.
```

- UI ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ custom properties[^4] ã‚’è¨­å®šã™ã‚‹ã€‚ä»¥ä¸‹ã®å¤‰æ•°ã€‚

https://github.com/danny-yamamoto/rough/blob/1828f38a8b09c169c3e396bc633217d91cf3cddf/src/components/Search.astro#L15-L29

ä»¥ä¸Šã€‚

code ã¨ Cloudflare Pages ã® URI ã¯ã“ã‚Œã€‚

https://rough-ey6.pages.dev/hoge/

https://github.com/danny-yamamoto/rough

[^1]: https://pagefind.app/
[^2]: https://biomejs.dev/ja/
[^3]: https://turbo.build/pack
[^4]: https://pagefind.app/docs/ui-usage/#customising-the-styles
