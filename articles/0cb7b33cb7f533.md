---
title: "Litestream"
emoji: "😎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Litestream", "rust", "googlecloud"]
published: false
---

## deploy
- Cloud Run に deploy する。
- PORT と HOST に気を付ける。毎回そこで error になる。

## slim down
- `debian` から distroless に変更する。
- image size は 4 分の 1 まで落ちた。
```bash
root ➜ /workspaces/rust-api-samples-rocket (main) $ curl -i https://rocket-hoge-an.a.run.app/users/1
HTTP/2 200 
content-type: application/json
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
permissions-policy: interest-cohort=()
x-cloud-trace-context: b42351ad72ff89965fc5d913c510613d;o=1
date: Thu, 08 Feb 2024 04:35:43 GMT
server: Google Frontend
content-length: 90
alt-svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000

{"user_id":1,"email_address":"maria@example.com","created_at":0,"deleted":0,"settings":""}
root ➜ /workspaces/rust-api-samples-rocket (main) $ 
```

## Litestream
- 


