---
title: "How to get started with TestRail"
emoji: "â–¶ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["testrail", "playwright", "typescript"]
published: true
---

API Testing ã«ã¤ã„ã¦ã€‚

Playwright [^3] ã§ API Testing ã‚’çµ„ã¿ç«‹ã¦ã¦ãŠã‚Šã€ TestRail [^1] ã¨é€£æºã•ã›ã‚‹ã€‚

Playwright ã¯è¤‡æ•°ã® Report æ©Ÿèƒ½ [^4] ãŒã‚ã‚Šã€ãã‚Œã‚’ TestRail ã«è¡¨ç¤ºã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

æœ€è¿‘ã¯ E2E ã®å®Ÿè·µã®ãŸã‚ã«ã€æœ¬ã‚’èª­ã¿ãªãŒã‚‰ Playwright ã§éŠã‚“ã§ã„ã‚‹ã€‚

AWS CDK ã¨ã®æ ¼é—˜ã®åˆé–“ã®ä¼‘æ†©ã¨ã—ã¦ ğŸµ

https://gihyo.jp/book/2024/978-4-297-14220-9

æœ¬ã®è³¼å…¥ã¯ `BENTO` ã«ãŠä¸–è©±ã«ãªã£ã¦ã„ã‚‹ã€‚thank you kubell

https://prtimes.jp/main/html/rd/p/000000247.000013602.html

## å‰æ

- ãƒ†ã‚¹ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ TestRail ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã€‚
- VS Code ã® Dev Containers ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã€‚
- é–‹ç™ºè¨€èªã¯ TypeScript ã§ã‚ã‚‹ã€‚

## Installation

- TestRail ã® CLI ã¯ Python ãŒå¿…è¦ã€‚
- TypeScript ã« Python ã‚’è¿½åŠ ã—ã¦ã„ã‚‹ãŸã‚ã€ Python ã‚’ä»®æƒ³åŒ–ã™ã‚‹ã€‚
- `Python 3.11.2`
- `TestRail CLI v1.9.5`

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install trcli
```

- Playwright ã®ãƒ†ã‚¹ãƒˆçµæœå‡ºåŠ›æ™‚ã® `name` ã‚’è¨­å®šã™ã‚‹ã€‚

```bash: .env
PLAYWRIGHT_JUNIT_SUITE_NAME="Automated API Tests Run"
```

- Playwright ã§ã®ãƒ†ã‚¹ãƒˆã¯ã“ã¡ã‚‰ã€‚

https://zenn.dev/dannya/articles/826056c6dc72c6

- TestRail ã® Parameters ã‚’å®šç¾©ã™ã‚‹ã€‚Command Line ã® Option ã¨ã—ã¦æ¸¡ã™ã“ã¨ã‚‚ã§ãã‚‹ã€‚

```yml: config.yml
host: https://fakename.testrail.io/
project: My TestRail Project
project_id: 1
username: myuser@name.com
password: StrongP@ssword
file: ./test-results/junit-report.xml   # ç›¸å¯¾ãƒ‘ã‚¹
title: Playwright Automated Test Run
```

## Here we go!!

```bash
trcli -y -c ./config.yml parse_junit
```

```bash: Logs
(.venv) root âœ /workspaces/hogehoge/web-api-tests (BPD-493) $ trcli -y -c ./config.yml parse_junit
TestRail CLI v1.9.5
Copyright 2024 Gurock Software GmbH - www.gurock.com
Parser Results Execution Parameters
> Report file: ./test-results/junit-report.xml
> Config file: ./config.yml
> TestRail instance: https://mycompany.tmxtestrail.com/ (user: daisuke.yamamoto@example.com)
> Project: My Poroject
> Run title: Playwright Automated Test Run
> Update run: No
> Add to milestone: No
> Auto-create entities: True
Parsing JUnit report.
Processing JUnit suite - Automated API Tests Run
Processed 1 test cases in section customer-companies.spec.ts.
Checking project. Done.
Creating test run. Test run: https://mycompany.tmxtestrail.com/index.php?/runs/view/5
Adding results: 1/1, Done.
No attachments found to upload.
Submitted 1 test results in 2.9 secs.
(.venv) root âœ /workspaces/hogehoge/web-api-tests (BPD-493)
```

![cafe](/images/0571b69a780dd4-a.jpg)

## Conclusion

ã€Œã¿ã‚“ãªãŒå¿ƒåœ°è‰¯ã„ãƒšãƒ¼ã‚¹ã§åƒã„ã¦ã¯ã„ã‘ãªã„ã€

https://note.com/y_matsumoto_0907/n/n128620546564?sub_rt=share_b

10å¹´ä»¥ä¸Š JTC ã«ã„ãŸèº«ã‹ã‚‰ã™ã‚‹ã¨ã€ã€Œé€Ÿã•ã€ã«é•å’Œæ„Ÿã‚’æ„Ÿã˜ã‚‹ã“ã¨ã‚‚ã‚ã£ãŸã€‚

ãƒ™ãƒ³ãƒãƒ£ãƒ¼ã«èº«ã‚’ç½®ãã‚ˆã†ã«ãªã‚Šã€æˆåŠŸã‹ã©ã†ã‹åˆ†ã‹ã‚‰ãªã„ã‚‚ã®ã‚’ç¢ºã‹ã‚ã‚‹ã€Œé€Ÿã•ã€ãŒé‡è¦ã ã¨æ€ã†ã‚ˆã†ã«ãªã£ãŸã€‚

ãªãœãªã‚‰ã€ã©ã‚Œã ã‘ç¶ºéº—ã«ä½œã£ãŸã‚‚ã®ã§ã‚‚ä¾¡å€¤ãŒç„¡ã‘ã‚Œã°ãŸã ã®è‡ªå·±æº€è¶³ã«éããªã„ã¨æ€ã†ã‹ã‚‰ã ã€‚

ãã—ã¦ã€ã€Œé€Ÿã•ã€ã®ä¸­ã§ã‚‚ä¸€å®šã®å“è³ªã®ã‚‚ã®ã‚’ä½œã‚‹ã®ãŒ Professional ã ã¨æ€ã†ã€‚

ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã¦é€Ÿãä½œã‚‹ãªã‚‰ã€æ¥µè«–ä¸€äººã§ä½œã£ãŸæ–¹ãŒé€Ÿã„ã€‚

ä¸€æ–¹ã§ã€ä½œã£ãŸã‚‚ã®ã«ä¾¡å€¤ãŒã‚ã‚‹ã¨ã‚ã‹ã£ãŸæ™‚ã«ã€ãã‚Œã‚’æˆé•·ã•ã›ã‚‹ãªã‚‰ãƒãƒ¼ãƒ ãŒå¿…è¦ã ã¨æ€ã†ã€‚

100 å€‹ã®æŒ‘æˆ¦ã‚’ã€Œæ™‚è¨ˆã‚’æ”¯é…ã€ã—ãªãŒã‚‰é€²ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ manager ã‚’é›†ã‚ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã€ãã®ã†ã¡ 1 ã¤ã¯æˆåŠŸã‚’æ´ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚

ãã‚“ãªç’°å¢ƒã«èº«ã‚’ç½®ã„ã¦ã„ã‚‹ã¨ã„ã†è‡ªè¦šã‚’å…ˆé€±ã®å‡ºå¼µã§æ„Ÿã˜å–ã‚‹ã“ã¨ãŒã§ããŸã€‚

[^1]: https://www.testrail.com/

[^2]: https://zenn.dev/dannya/articles/826056c6dc72c6

[^3]: https://playwright.dev/

[^4]: https://playwright.dev/docs/test-reporters#junit-reporter
