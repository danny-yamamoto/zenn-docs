---
title: "Learn to compare AWS and Google Cloud: About RDS"
emoji: "ğŸ›¢ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rds", "cloudsql", "ec2", "gce", "rust"]
published: false
---
Amazon Relational Database Service (RDS) [^4] ã«ã¤ã„ã¦ã€‚

```mermaid
flowchart LR
    dev1["GitHub Codespaces"]
    db1[(RDS)]
    subgraph AWS
    subgraph VPC
    subgraph EC2
    app1["Web App"]
    end
    app1 -- Fetch --> db1
    end
    end
    dev1 -- SSH --> EC2
```

å‰è·ã§ä½¿ç”¨ã—ã¦ã„ãŸ Google Cloud ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨é–¢é€£ä»˜ã‘ãªãŒã‚‰å­¦ã¶ã€‚

æ§‹ç¯‰æ¸ˆã¿ã® RDS ã‚’è§¦ã£ãŸã“ã¨ã¯ã‚ã£ãŸãŒã€è¨­å®šå‘¨ã‚Šã¯è©³ã—ããªã„ã€‚

RDS ã®è¨­å®šå‘¨ã‚Šã¨ Application ã‹ã‚‰ã®æ¥ç¶šã«ã¤ã„ã¦å­¦ã³ç›´ã™ã€‚

## About RDS
- Cloud SQL ã¨ä¼¼ãŸã‚µãƒ¼ãƒ“ã‚¹ã€‚
- EC2/RDSã€GCE/Cloud SQL ã‚’æ¯”è¼ƒã™ã‚‹ã¨ã€ã¤ãªãæ–¹è‡ªä½“ã«é•å’Œæ„Ÿã¯æ„Ÿã˜ãªã„ã€‚
- Database Parameter ã®å¤‰æ›´æ–¹æ³•ãŒç•°ãªã‚‹ã¨æ„Ÿã˜ãŸã€‚ä»Šå›ã¯ SSL æ¥ç¶šã‚’å¤‰æ›´ã—ãŸã€‚[^3]

|Item|Cloud SQL|RDS|Note|
|----|----|----|----|
|Database Parameter|ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ ãƒ•ãƒ©ã‚°ã‚’å¤‰æ›´ã™ã‚‹ [^1]|`DB ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚°ãƒ«ãƒ¼ãƒ—` ã‚’ä½œæˆã™ã‚‹ [^2]||
|Host Name|`Private IP` or `Serverless VPC Access Connector` or `Direct VPC egress`|`Private Endopoint` or `VPC Connector`|

## Using RDBMS from my application
- App è¦³ç‚¹ã§ã®é•ã„ã¯ã»ã¼ç„¡ã„ã€‚
- EC2 ã‹ã‚‰ RDS ã¸ã®æ¥ç¶šã‚’è©¦ã—ãŸã€‚
- Rust ã§ç°¡å˜ãª Web App ã‚’å®Ÿè£…ã—ãŸã€‚`Axum` ã¨ `tokio-postgres` ã‚’ä½¿ç”¨ã€‚

https://github.com/danny-yamamoto/rust-api-samples-axum/blob/main/README.md

## BTW
æœ‰ä¼‘æ¶ˆåŒ–ä¸­ã¯ã€3 æ™‚é–“ã¯å¤–ã§éã”ã™ã“ã¨ã«ã—ãŸã€‚æ°—åˆ†è»¢æ›ã®ãŸã‚ã€‚

è¿‘æ‰€ã® AEON ã®ãƒ•ãƒ¼ãƒ‰ã‚³ãƒ¼ãƒˆã§ã€èª­æ›¸ã¨ Programmingã€‚ãã“ã¯é›»æºãŒç„¡ã„ã®ãŒè¾›ã„ã€‚

[^1]: https://cloud.google.com/sql/docs/postgres/flags?hl=ja#set_a_database_flag
[^2]: https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/USER_WorkingWithDBInstanceParamGroups.html
[^3]: https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/PostgreSQL.Concepts.General.SSL.html
[^4]: https://aws.amazon.com/jp/rds/
